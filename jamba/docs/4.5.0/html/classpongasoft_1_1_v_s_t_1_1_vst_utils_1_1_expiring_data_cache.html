<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jamba C++ API: ExpiringDataCache&lt; T, Ptr, Loader &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jamba_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="jamba-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jamba C++ API
   &#160;<span id="projectnumber">4.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ExpiringDataCache&lt; T, Ptr, Loader &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The purpose of this class is to implement a short live cache (time to live (or TTL) being a constructor parameter) for data.  
 <a href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_expiring_data_cache_8h_source.html">ExpiringDataCache.h</a>&gt;</code></p>

<p>Inherits ITimerCallback.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a02cf7019da121eadec24ef50a966bae0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a02cf7019da121eadec24ef50a966bae0">loader</a> = Loader</td></tr>
<tr class="separator:a02cf7019da121eadec24ef50a966bae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf99c02c6a61a92c5ccefdfdbb293a2e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#adf99c02c6a61a92c5ccefdfdbb293a2e">pointer</a> = Ptr</td></tr>
<tr class="separator:adf99c02c6a61a92c5ccefdfdbb293a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9ded5f49336ae503bb9f2035ea902b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#afb9ded5f49336ae503bb9f2035ea902b">value_type</a> = T</td></tr>
<tr class="separator:afb9ded5f49336ae503bb9f2035ea902b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a76f87c86df19634e7a7c99f6cb159448"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a76f87c86df19634e7a7c99f6cb159448">ExpiringDataCache</a> ()=default</td></tr>
<tr class="memdesc:a76f87c86df19634e7a7c99f6cb159448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default empty constructor =&gt; <code><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a2bd32d41874848d0d5b4a8eff6471b43" title="Main api to retrieve the data.">getData()</a></code> always return <code>nullptr</code>  <a href="#a76f87c86df19634e7a7c99f6cb159448">More...</a><br /></td></tr>
<tr class="separator:a76f87c86df19634e7a7c99f6cb159448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dddbc1d34e3573778085c3713b3418e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a5dddbc1d34e3573778085c3713b3418e">ExpiringDataCache</a> (Loader iDataLoader, uint32 iTimeToLiveMilliseconds)</td></tr>
<tr class="memdesc:a5dddbc1d34e3573778085c3713b3418e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main constructor with loader and TTL.  <a href="#a5dddbc1d34e3573778085c3713b3418e">More...</a><br /></td></tr>
<tr class="separator:a5dddbc1d34e3573778085c3713b3418e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6be9789286cd280f68234e5bd5c752"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#aba6be9789286cd280f68234e5bd5c752">ExpiringDataCache</a> (<a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> const &amp;iOther)</td></tr>
<tr class="memdesc:aba6be9789286cd280f68234e5bd5c752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#aba6be9789286cd280f68234e5bd5c752">More...</a><br /></td></tr>
<tr class="separator:aba6be9789286cd280f68234e5bd5c752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad706055d99c252b043fb1c6c9192cc07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#ad706055d99c252b043fb1c6c9192cc07">ExpiringDataCache</a> (<a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> &amp;&amp;iOther) noexcept</td></tr>
<tr class="memdesc:ad706055d99c252b043fb1c6c9192cc07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="#ad706055d99c252b043fb1c6c9192cc07">More...</a><br /></td></tr>
<tr class="separator:ad706055d99c252b043fb1c6c9192cc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd32d41874848d0d5b4a8eff6471b43"><td class="memItemLeft" align="right" valign="top">Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a2bd32d41874848d0d5b4a8eff6471b43">getData</a> ()</td></tr>
<tr class="memdesc:a2bd32d41874848d0d5b4a8eff6471b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main api to retrieve the data.  <a href="#a2bd32d41874848d0d5b4a8eff6471b43">More...</a><br /></td></tr>
<tr class="separator:a2bd32d41874848d0d5b4a8eff6471b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420e60e9788bfa3b52aa3aab72ea3a5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a420e60e9788bfa3b52aa3aab72ea3a5e">operator bool</a> () const noexcept</td></tr>
<tr class="memdesc:a420e60e9788bfa3b52aa3aab72ea3a5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow to write <code>if(cache)</code> to check if the cache is properly initialized.  <a href="#a420e60e9788bfa3b52aa3aab72ea3a5e">More...</a><br /></td></tr>
<tr class="separator:a420e60e9788bfa3b52aa3aab72ea3a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0f9360a223a1a5ee42e2ff1f493d41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#aee0f9360a223a1a5ee42e2ff1f493d41">operator=</a> (<a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> const &amp;iOther) noexcept</td></tr>
<tr class="memdesc:aee0f9360a223a1a5ee42e2ff1f493d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment operator.  <a href="#aee0f9360a223a1a5ee42e2ff1f493d41">More...</a><br /></td></tr>
<tr class="separator:aee0f9360a223a1a5ee42e2ff1f493d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345768642c15435aba6fb2d5a1d230e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a345768642c15435aba6fb2d5a1d230e4">operator=</a> (<a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> &amp;&amp;iOther) noexcept</td></tr>
<tr class="memdesc:a345768642c15435aba6fb2d5a1d230e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator.  <a href="#a345768642c15435aba6fb2d5a1d230e4">More...</a><br /></td></tr>
<tr class="separator:a345768642c15435aba6fb2d5a1d230e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a44ff886841de4c0f2ae862bc3e788ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a44ff886841de4c0f2ae862bc3e788ab1">onTimer</a> (Timer *timer) override</td></tr>
<tr class="separator:a44ff886841de4c0f2ae862bc3e788ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad4277ba4dc0da23407ef36391113d62a"><td class="memItemLeft" align="right" valign="top">Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#ad4277ba4dc0da23407ef36391113d62a">fCachedData</a> {}</td></tr>
<tr class="separator:ad4277ba4dc0da23407ef36391113d62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c56e63c4f47a1924add24d74c58dcab"><td class="memItemLeft" align="right" valign="top">Loader&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a4c56e63c4f47a1924add24d74c58dcab">fDataLoader</a> {}</td></tr>
<tr class="separator:a4c56e63c4f47a1924add24d74c58dcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9287cc1b685c9da1a822109837cfe978"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classpongasoft_1_1_v_s_t_1_1_auto_release_timer.html">AutoReleaseTimer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a9287cc1b685c9da1a822109837cfe978">fTimer</a> {}</td></tr>
<tr class="separator:a9287cc1b685c9da1a822109837cfe978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d281c865739d8caf55b7aa1d2b07f0"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#aa6d281c865739d8caf55b7aa1d2b07f0">fTimeToLiveMilliseconds</a> {}</td></tr>
<tr class="separator:aa6d281c865739d8caf55b7aa1d2b07f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, typename Ptr = std::shared_ptr&lt;T&gt;, typename Loader = std::function&lt;Ptr()&gt;&gt;<br />
class pongasoft::VST::VstUtils::ExpiringDataCache&lt; T, Ptr, Loader &gt;</h3>

<p>The purpose of this class is to implement a short live cache (time to live (or TTL) being a constructor parameter) for data. </p>
<p>This class uses the <code>Timer</code> class from the VST3 SDK to implement the timeout so that it can safely be used by all classes living in the plugin. This class is <b>not</b> thread safe but is intended to be used in the VST3 plugin environment where the timer (<code>ITimerCallback::onTimer</code>) and caller (<code><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a2bd32d41874848d0d5b4a8eff6471b43" title="Main api to retrieve the data.">ExpiringDataCache::getData</a></code>) are part of the event loop and thus never called by 2 threads at the same time.</p>
<dl class="section note"><dt>Note</dt><dd>This class offers copy/move constructors and copy/move assignment operators but care must be taken that the <code>Loader</code> can safely be moved/copied if you use them. A <b>bad</b> example would be a lambda capturing <code>this</code></dd></dl>
<div class="fragment"><div class="line"><span class="keyword">struct </span>MyClass</div><div class="line">{</div><div class="line">   std::shared_ptr&lt;MyData&gt; getMyData()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fMyDataCache.getData(); }</div><div class="line"></div><div class="line">   <span class="comment">// this is good because it is capturing a shared pointer independent of &quot;this&quot;</span></div><div class="line">   MyClass(std::shared_ptr&lt;MyStorage&gt; iStorage) : fStorage{iStorage},</div><div class="line">     fMyDataCache{[iStorage]() -&gt; <span class="keyword">auto</span> { <span class="keywordflow">return</span> iStorage-&gt;loadMyData(); }, myTTL} {}</div><div class="line"></div><div class="line">   <span class="comment">// This is terrible:</span></div><div class="line">   <span class="comment">// MyClass(std::shared_ptr&lt;MyStorage&gt; iStorage) : fStorage{iStorage},</span></div><div class="line">   <span class="comment">//  fMyDataCache{[this]() -&gt; auto { return fStorage-&gt;loadMyData(); }, myTTL} {}</span></div><div class="line">   <span class="comment">//</span></div><div class="line">   <span class="comment">// And will fail with code like this:</span></div><div class="line">   <span class="comment">// MyClass a1{myStorage};</span></div><div class="line">   <span class="comment">// MyClass a2{a1}; // this will lead to failure if a1 goes away because Loader captures the address of a1!!!!</span></div><div class="line"></div><div class="line">   std::shared_ptr&lt;MyStorage&gt; fStorage{};</div><div class="line">   <span class="keyword">mutable</span> ExpiringDataCache&lt;MyData&gt; fMyDataCache{}; <span class="comment">// mutable allows to declare `getMyData()` const!</span></div><div class="line">}</div></div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>the type of the data that is being cached </td></tr>
    <tr><td class="paramname">Ptr</td><td>the (optional) type for the pointer. By default it is <code>std::shared_ptr&lt;T&gt;</code> because this makes the most sense for data that needs to be shared (clearly this class keeps it and then the caller via <code><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a2bd32d41874848d0d5b4a8eff6471b43" title="Main api to retrieve the data.">ExpiringDataCache::getData()</a></code>). You can use <code>T*</code> if you prefer/need to, but is not recommended. </td></tr>
    <tr><td class="paramname">Loader</td><td>the (optional) type for the loader "function" which must be a "callable" object (<code>iDataLoader()</code> returns a <code>Ptr</code>) and is by default <code>std::function&lt;Ptr()&gt;</code>. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a02cf7019da121eadec24ef50a966bae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02cf7019da121eadec24ef50a966bae0">&#9670;&nbsp;</a></span>loader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a02cf7019da121eadec24ef50a966bae0">loader</a> =  Loader</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adf99c02c6a61a92c5ccefdfdbb293a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf99c02c6a61a92c5ccefdfdbb293a2e">&#9670;&nbsp;</a></span>pointer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#adf99c02c6a61a92c5ccefdfdbb293a2e">pointer</a> =  Ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afb9ded5f49336ae503bb9f2035ea902b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb9ded5f49336ae503bb9f2035ea902b">&#9670;&nbsp;</a></span>value_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#afb9ded5f49336ae503bb9f2035ea902b">value_type</a> =  T</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a76f87c86df19634e7a7c99f6cb159448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f87c86df19634e7a7c99f6cb159448">&#9670;&nbsp;</a></span>ExpiringDataCache() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default empty constructor =&gt; <code><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html#a2bd32d41874848d0d5b4a8eff6471b43" title="Main api to retrieve the data.">getData()</a></code> always return <code>nullptr</code> </p>

</div>
</div>
<a id="a5dddbc1d34e3573778085c3713b3418e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dddbc1d34e3573778085c3713b3418e">&#9670;&nbsp;</a></span>ExpiringDataCache() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> </td>
          <td>(</td>
          <td class="paramtype">Loader&#160;</td>
          <td class="paramname"><em>iDataLoader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>iTimeToLiveMilliseconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main constructor with loader and TTL. </p>

</div>
</div>
<a id="aba6be9789286cd280f68234e5bd5c752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6be9789286cd280f68234e5bd5c752">&#9670;&nbsp;</a></span>ExpiringDataCache() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&lt; T, Ptr, Loader &gt; const &amp;&#160;</td>
          <td class="paramname"><em>iOther</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor. </p>

</div>
</div>
<a id="ad706055d99c252b043fb1c6c9192cc07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad706055d99c252b043fb1c6c9192cc07">&#9670;&nbsp;</a></span>ExpiringDataCache() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&lt; T, Ptr, Loader &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>iOther</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2bd32d41874848d0d5b4a8eff6471b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd32d41874848d0d5b4a8eff6471b43">&#9670;&nbsp;</a></span>getData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ptr getData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main api to retrieve the data. </p>
<p>If the data is in the cache, it simply returns it (and extends the duration to remain in the cache by TTL). If it is not in the cache, it delegates to the loader to get it. Note that it is ok for the loader to return <code>nullptr</code>, but this result will not be cached (meaning, the loader will be called every time).</p>
<dl class="section return"><dt>Returns</dt><dd>the data (which can be <code>nullptr</code>) </dd></dl>

</div>
</div>
<a id="a44ff886841de4c0f2ae862bc3e788ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ff886841de4c0f2ae862bc3e788ab1">&#9670;&nbsp;</a></span>onTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onTimer </td>
          <td>(</td>
          <td class="paramtype">Timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a420e60e9788bfa3b52aa3aab72ea3a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420e60e9788bfa3b52aa3aab72ea3a5e">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allow to write <code>if(cache)</code> to check if the cache is properly initialized. </p>

</div>
</div>
<a id="aee0f9360a223a1a5ee42e2ff1f493d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0f9360a223a1a5ee42e2ff1f493d41">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&lt; T, Ptr, Loader &gt; const &amp;&#160;</td>
          <td class="paramname"><em>iOther</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy assignment operator. </p>

</div>
</div>
<a id="a345768642c15435aba6fb2d5a1d230e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a345768642c15435aba6fb2d5a1d230e4">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a>&lt; T, Ptr, Loader &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>iOther</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move assignment operator. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad4277ba4dc0da23407ef36391113d62a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4277ba4dc0da23407ef36391113d62a">&#9670;&nbsp;</a></span>fCachedData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ptr fCachedData {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c56e63c4f47a1924add24d74c58dcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c56e63c4f47a1924add24d74c58dcab">&#9670;&nbsp;</a></span>fDataLoader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Loader fDataLoader {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9287cc1b685c9da1a822109837cfe978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9287cc1b685c9da1a822109837cfe978">&#9670;&nbsp;</a></span>fTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classpongasoft_1_1_v_s_t_1_1_auto_release_timer.html">AutoReleaseTimer</a>&gt; fTimer {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6d281c865739d8caf55b7aa1d2b07f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d281c865739d8caf55b7aa1d2b07f0">&#9670;&nbsp;</a></span>fTimeToLiveMilliseconds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32 fTimeToLiveMilliseconds {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pongasoft/VST/VstUtils/<a class="el" href="_expiring_data_cache_8h_source.html">ExpiringDataCache.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacepongasoft.html">pongasoft</a></li><li class="navelem"><a class="el" href="namespacepongasoft_1_1_v_s_t.html">VST</a></li><li class="navelem"><a class="el" href="namespacepongasoft_1_1_v_s_t_1_1_vst_utils.html">VstUtils</a></li><li class="navelem"><a class="el" href="classpongasoft_1_1_v_s_t_1_1_vst_utils_1_1_expiring_data_cache.html">ExpiringDataCache</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
